document.addEventListener("DOMContentLoaded",(function(){const header=document.querySelector(".pwr-header");if(header){let dir="",oldVal=0,oldTarget=null,mouseMoveAction=function(e){e.pageX<oldVal?dir=1:e.pageX>oldVal&&(dir=-1),oldVal=e.pageX,e.target!=oldTarget&&(header.style.setProperty("--mouse-dir-hor",dir),oldTarget=e.target)};header.addEventListener("mousemove",mouseMoveAction),"true"==header.dataset.mmAnimFotReveal&&(header.addEventListener("mouseenter",(()=>{header.classList.add("pwr-header--mm-anim-fot-reveal")})),header.addEventListener("mouseleave",(()=>{header.classList.remove("pwr-header--mm-anim-fot-reveal")})))}const mms=document.querySelectorAll(".pwr-header-advanced-mm");let mmAnimFOTRevealLast=null;mms.forEach((function(mm){const target=mm.dataset.target,menuItem=document.querySelectorAll(".pwr-header__menu .hs-menu-wrapper li.hs-menu-depth-1")[target-1];if(menuItem){menuItem.classList.add("has-mega-menu");const child=menuItem.querySelector("ul");child&&menuItem.removeChild(child);const action=e=>{if(("mouseleave"!=e.type||mm.classList.contains("pwr-header-advanced-mm--is-active"))&&mm.classList.toggle("pwr-header-advanced-mm--is-active"),"mouseenter"==e.type&&e.target==menuItem&&mm.classList.contains("pwr-header-advanced-mm--custom-width")){const mIWidth=menuItem.offsetWidth,mILeft=menuItem.getBoundingClientRect().left,cWidth=mm.offsetWidth;mm.style.marginLeft=mILeft+mIWidth/2-cWidth/2+"px";const headerMenuWrapper=document.querySelector(".pwr-header-full"),hLeft=headerMenuWrapper.getBoundingClientRect().left,hWidth=headerMenuWrapper.offsetWidth,cLeft=mm.getBoundingClientRect().left,compLeft=cLeft-hLeft,compRight=hLeft+hWidth-(cLeft+cWidth);let compCen=cWidth-hWidth;compCen=compCen>0?compCen/2:0,compLeft<0&&compRight>=0?mm.style.marginLeft=cLeft-compLeft-compCen+"px":compRight<0&&compLeft>=0?mm.style.marginLeft=cLeft+compRight+compCen+"px":compRight<0&&compLeft<0&&(mm.style.marginLeft=hLeft-compCen+"px")}e.target==menuItem&&"true"==header.dataset.mmAnimFotReveal&&("mouseenter"==e.type&&mmAnimFOTRevealLast!=menuItem&&document.querySelectorAll(".pwr-header-advanced-mm--anim-fot-reveal").forEach((item=>{item.classList.remove("pwr-header-advanced-mm--anim-fot-reveal")})),"mouseenter"==e.type&&header.classList.contains("pwr-header--mm-anim-fot-reveal")&&(header.classList.remove("pwr-header--mm-anim-fot-reveal"),mm.classList.add("pwr-header-advanced-mm--anim-fot-reveal"),mmAnimFOTRevealLast=menuItem))};["mouseenter","mouseleave"].forEach(((event,ix)=>{menuItem.addEventListener(event,action),mm.addEventListener(event,action)}))}}))}));
//# sourceURL=https://cdn2.hubspot.net/hub/7996980/hub_generated/template_assets/140601691276/1705426147491/marketplace/maka_Agency/POWER_THEME/js/components/advanced-mm.js